const Languages = {
    en: {
        // App
        appTitle: "âš¡ CSS Effects Studio",
        searchPlaceholder: "Search effects...",
        selectEffect: "Select an Effect",
        selectEffectLearn: "Select an effect to learn how it works.",
        
        // Tags
        tagAll: "All",
        tagHover: "Hover",
        tagClick: "Click",
        tagAnimation: "Animated",
        
        // Tabs
        tabPreview: "Preview",
        tabCustomize: "Customize",
        tabLearn: "How it Works",
        tabCode: "Code",
        
        // Buttons
        btnReset: "Reset",
        btnExport: "ðŸ“¤ Export",
        btnCopy: "ðŸ“‹ Copy",
        btnCopied: "âœ“ Copied!",
        
        // Sections
        presetsTitle: "Presets",
        controlsTitle: "Controls",
        learnTitle: "ðŸ“š How It Works",
        
        // Presets
        presetMinimal: "Minimal",
        presetSoft: "Soft",
        presetStrong: "Strong",
        presetNeon: "Neon",
        
        // Controls
        labelDuration: "Duration",
        labelPrimaryColor: "Primary Color",
        labelSecondaryColor: "Secondary Color",
        labelBlur: "Blur",
        labelOpacity: "Opacity",
        labelIntensity: "Intensity",
        
        // Performance
        perfLow: "Low Impact",
        perfMedium: "Medium Impact",
        perfHigh: "High Impact",
        performanceMode: "Performance Mode",
        toggleTheme: "Toggle Theme",
        
        // Categories
        catButtons: "BUTTONS",
        catCards: "CARDS",
        catMicro: "MICRO-INTERACTIONS",
        
        // Effect Names & Descriptions (see projects.js for full list)
    },
    vi: {
        appTitle: "âš¡ PhÃ²ng ThÃ­ Nghiá»‡m CSS",
        searchPlaceholder: "TÃ¬m kiáº¿m hiá»‡u á»©ng...",
        selectEffect: "Chá»n Hiá»‡u á»¨ng",
        selectEffectLearn: "Chá»n hiá»‡u á»©ng Ä‘á»ƒ tÃ¬m hiá»ƒu cÃ¡ch hoáº¡t Ä‘á»™ng.",
        
        tagAll: "Táº¥t cáº£",
        tagHover: "Di chuá»™t",
        tagClick: "Nháº¥p",
        tagAnimation: "Hoáº¡t cáº£nh",
        
        tabPreview: "Xem trÆ°á»›c",
        tabCustomize: "TÃ¹y chá»‰nh",
        tabLearn: "CÃ¡ch hoáº¡t Ä‘á»™ng",
        tabCode: "MÃ£ nguá»“n",
        
        btnReset: "Äáº·t láº¡i",
        btnExport: "ðŸ“¤ Xuáº¥t",
        btnCopy: "ðŸ“‹ Sao chÃ©p",
        btnCopied: "âœ“ ÄÃ£ sao chÃ©p!",
        
        presetsTitle: "CÃ i Ä‘áº·t sáºµn",
        controlsTitle: "Äiá»u khiá»ƒn",
        learnTitle: "ðŸ“š CÃ¡ch hoáº¡t Ä‘á»™ng",
        
        presetMinimal: "Tá»‘i giáº£n",
        presetSoft: "Nháº¹ nhÃ ng",
        presetStrong: "Máº¡nh máº½",
        presetNeon: "Neon",
        
        labelDuration: "Thá»i lÆ°á»£ng",
        labelPrimaryColor: "MÃ u chÃ­nh",
        labelSecondaryColor: "MÃ u phá»¥",
        labelBlur: "Äá»™ má»",
        labelOpacity: "Äá»™ trong suá»‘t",
        labelIntensity: "CÆ°á»ng Ä‘á»™",
        
        perfLow: "áº¢nh hÆ°á»Ÿng tháº¥p",
        perfMedium: "áº¢nh hÆ°á»Ÿng trung bÃ¬nh",
        perfHigh: "áº¢nh hÆ°á»Ÿng cao",
        performanceMode: "Cháº¿ Ä‘á»™ hiá»‡u suáº¥t",
        toggleTheme: "Äá»•i giao diá»‡n",
        
        catButtons: "NÃšT Báº¤M",
        catCards: "THáºº",
        catMicro: "VI TÆ¯Æ NG TÃC",
    },
    ja: {
        appTitle: "âš¡ CSSã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚¹ã‚¿ã‚¸ã‚ª",
        searchPlaceholder: "ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’æ¤œç´¢...",
        selectEffect: "ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’é¸æŠž",
        selectEffectLearn: "ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’é¸æŠžã—ã¦ä»•çµ„ã¿ã‚’å­¦ã³ã¾ã™ã€‚",
        
        tagAll: "ã™ã¹ã¦",
        tagHover: "ãƒ›ãƒãƒ¼",
        tagClick: "ã‚¯ãƒªãƒƒã‚¯",
        tagAnimation: "ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³",
        
        tabPreview: "ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",
        tabCustomize: "ã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚º",
        tabLearn: "ä»•çµ„ã¿",
        tabCode: "ã‚³ãƒ¼ãƒ‰",
        
        btnReset: "ãƒªã‚»ãƒƒãƒˆ",
        btnExport: "ðŸ“¤ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ",
        btnCopy: "ðŸ“‹ ã‚³ãƒ”ãƒ¼",
        btnCopied: "âœ“ ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!",
        
        presetsTitle: "ãƒ—ãƒªã‚»ãƒƒãƒˆ",
        controlsTitle: "ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«",
        learnTitle: "ðŸ“š ä»•çµ„ã¿",
        
        presetMinimal: "ãƒŸãƒ‹ãƒžãƒ«",
        presetSoft: "ã‚½ãƒ•ãƒˆ",
        presetStrong: "ã‚¹ãƒˆãƒ­ãƒ³ã‚°",
        presetNeon: "ãƒã‚ªãƒ³",
        
        labelDuration: "æœŸé–“",
        labelPrimaryColor: "ãƒ—ãƒ©ã‚¤ãƒžãƒªã‚«ãƒ©ãƒ¼",
        labelSecondaryColor: "ã‚»ã‚«ãƒ³ãƒ€ãƒªã‚«ãƒ©ãƒ¼",
        labelBlur: "ã¼ã‹ã—",
        labelOpacity: "ä¸é€æ˜Žåº¦",
        labelIntensity: "å¼·åº¦",
        
        perfLow: "ä½Žå½±éŸ¿",
        perfMedium: "ä¸­å½±éŸ¿",
        perfHigh: "é«˜å½±éŸ¿",
        performanceMode: "ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰",
        toggleTheme: "ãƒ†ãƒ¼ãƒžåˆ‡æ›¿",
        
        catButtons: "ãƒœã‚¿ãƒ³",
        catCards: "ã‚«ãƒ¼ãƒ‰",
        catMicro: "ãƒžã‚¤ã‚¯ãƒ­ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³",
    }
};

const i18nManager = {
    current: localStorage.getItem('cssStudioLang') || 'en',
    
    setLanguage(lang) {
        this.current = lang;
        localStorage.setItem('cssStudioLang', lang);
        this.updateUI();
        Studio.ui.renderEffects();
        if (Studio.currentEffect) {
            Studio.loadEffect(Studio.currentEffect);
        }
    },

    t(key, effect) {
        if (effect && effect[key]) {
            return effect[key][this.current] || effect[key].en;
        }
        return Languages[this.current][key] || key;
    },

    updateUI() {
        // Update all [data-i18n] elements
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            el.textContent = this.t(key);
        });

        // Update placeholders
        document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
            const key = el.getAttribute('data-i18n-placeholder');
            el.placeholder = this.t(key);
        });

        // Update titles
        document.querySelectorAll('[data-i18n-title]').forEach(el => {
            const key = el.getAttribute('data-i18n-title');
            el.title = this.t(key);
        });

        // Update active language option
        document.querySelectorAll('.lang-option').forEach(opt => {
            opt.classList.remove('active');
        });
        const langMap = { en: 0, vi: 1, ja: 2 };
        const options = document.querySelectorAll('.lang-option');
        if (options[langMap[this.current]]) {
            options[langMap[this.current]].classList.add('active');
        }
    }
};
