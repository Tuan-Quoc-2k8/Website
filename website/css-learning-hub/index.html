<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS Learning Hub - Lessons</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .lessons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .lesson-card {
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 25px;
            text-decoration: none;
            color: var(--text-primary);
            transition: all 0.3s;
            display: block;
        }

        .lesson-card:hover {
            border-color: var(--accent);
            transform: translateY(-5px);
            box-shadow: 0 8px 16px var(--shadow);
        }

        .lesson-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .lesson-card-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--accent);
        }

        .lesson-card-description {
            font-size: 14px;
            line-height: 1.6;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        .lesson-card-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 13px;
            color: var(--text-secondary);
        }

        .has-js-badge {
            background: #fef3c7;
            color: #92400e;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        [data-theme="dark"] .has-js-badge {
            background: #92400e;
            color: #fef3c7;
        }

        .category-section {
            margin-bottom: 50px;
        }

        .category-header {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border);
        }

        .hero-section {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(135deg, var(--accent) 0%, #8b5cf6 100%);
            border-radius: 12px;
            color: white;
            margin-bottom: 40px;
        }

        .hero-title {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .hero-subtitle {
            font-size: 18px;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 32px;
            }

            .hero-subtitle {
                font-size: 16px;
            }

            .lessons-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Compatibility Warning -->
    <div class="compat-warning" id="compatWarning">
        <span id="compatWarningText"></span>
        <button onclick="dismissWarning()" id="compatWarningBtn"></button>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1 class="header-title">
                <span class="header-icon">üìò</span>
                <span id="headerTitle">CSS Learning Hub</span>
            </h1>
            <div class="header-controls">
                <button class="btn-header" onclick="openSettings()" id="settingsBtn">
                    ‚öôÔ∏è <span id="settingsBtnText">Settings</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Hero Section -->
        <div class="hero-section">
            <h2 class="hero-title" id="heroTitle">Learn CSS Interactively</h2>
            <p class="hero-subtitle" id="heroSubtitle">Master CSS from basics to advanced with hands-on lessons and live code examples</p>
        </div>

        <!-- Beginner Lessons -->
        <div class="category-section">
            <h2 class="category-header" id="beginnerTitle">üå± Beginner Lessons</h2>
            <div class="lessons-grid" id="beginnerLessons"></div>
        </div>

        <!-- Intermediate Lessons -->
        <div class="category-section">
            <h2 class="category-header" id="intermediateTitle">üöÄ Intermediate Lessons</h2>
            <div class="lessons-grid" id="intermediateLessons"></div>
        </div>

        <!-- Advanced Lessons -->
        <div class="category-section">
            <h2 class="category-header" id="advancedTitle">‚≠ê Advanced Lessons</h2>
            <div class="lessons-grid" id="advancedLessons"></div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal-overlay" id="settingsModal" onclick="closeSettingsIfOverlay(event)">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="settingsModalTitle">Settings</h3>
                <button class="modal-close" onclick="closeSettings()">√ó</button>
            </div>
            <div class="modal-body">
                <!-- Language Selection -->
                <div class="setting-group">
                    <label class="setting-label" id="languageLabel">Language</label>
                    <div class="setting-options">
                        <button class="setting-option" onclick="changeLanguage('en')" id="langEnBtn">
                            English
                        </button>
                        <button class="setting-option" onclick="changeLanguage('vi')" id="langViBtn">
                            Ti·∫øng Vi·ªát
                        </button>
                    </div>
                </div>

                <!-- Theme Selection -->
                <div class="setting-group">
                    <label class="setting-label" id="themeLabel">Theme</label>
                    <div class="setting-options">
                        <button class="setting-option" onclick="changeTheme('light')" id="themeLightBtn">
                            ‚òÄÔ∏è <span id="themeLightText">Light</span>
                        </button>
                        <button class="setting-option" onclick="changeTheme('dark')" id="themeDarkBtn">
                            üåô <span id="themeDarkText">Dark</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p id="footerText">Built with ‚ù§Ô∏è for CSS learners</p>
    </footer>

    <script>
        // Simplified version for index page
        var currentLang = 'en';
        var currentTheme = 'light';

        var translations = {
            en: {
                headerTitle: 'CSS Learning Hub',
                settingsBtn: 'Settings',
                heroTitle: 'Learn CSS Interactively',
                heroSubtitle: 'Master CSS from basics to advanced with hands-on lessons and live code examples',
                beginnerTitle: 'üå± Beginner Lessons',
                intermediateTitle: 'üöÄ Intermediate Lessons',
                advancedTitle: '‚≠ê Advanced Lessons',
                settingsTitle: 'Settings',
                languageLabel: 'Language',
                themeLabel: 'Theme',
                themeLight: 'Light',
                themeDark: 'Dark',
                footerText: 'Built with ‚ù§Ô∏è for CSS learners',
                compatWarning: '‚ö†Ô∏è You\'re using an in-app browser. For best experience, open in Chrome, Safari, or Firefox.',
                compatWarningBtn: 'Got it',
                hasJS: '+ JavaScript'
            },
            vi: {
                headerTitle: 'Trung T√¢m H·ªçc CSS',
                settingsBtn: 'C√†i ƒê·∫∑t',
                heroTitle: 'H·ªçc CSS T∆∞∆°ng T√°c',
                heroSubtitle: 'L√†m ch·ªß CSS t·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao v·ªõi c√°c b√†i h·ªçc th·ª±c h√†nh v√† v√≠ d·ª• code tr·ª±c ti·∫øp',
                beginnerTitle: 'üå± B√†i H·ªçc C∆° B·∫£n',
                intermediateTitle: 'üöÄ B√†i H·ªçc Trung C·∫•p',
                advancedTitle: '‚≠ê B√†i H·ªçc N√¢ng Cao',
                settingsTitle: 'C√†i ƒê·∫∑t',
                languageLabel: 'Ng√¥n Ng·ªØ',
                themeLabel: 'Giao Di·ªán',
                themeLight: 'S√°ng',
                themeDark: 'T·ªëi',
                footerText: 'X√¢y d·ª±ng v·ªõi ‚ù§Ô∏è cho ng∆∞·ªùi h·ªçc CSS',
                compatWarning: '‚ö†Ô∏è B·∫°n ƒëang d√πng tr√¨nh duy·ªát trong ·ª©ng d·ª•ng. ƒê·ªÉ tr·∫£i nghi·ªám t·ªët nh·∫•t, h√£y m·ªü b·∫±ng Chrome, Safari ho·∫∑c Firefox.',
                compatWarningBtn: 'ƒê√£ hi·ªÉu',
                hasJS: '+ JavaScript'
            }
        };

        var lessonsIndex = {
            beginner: [
                { id: 'css-selectors', title: { en: 'CSS Selectors', vi: 'B·ªô Ch·ªçn CSS' }, description: { en: 'Learn to target HTML elements', vi: 'H·ªçc c√°ch nh·∫Øm c√°c ph·∫ßn t·ª≠ HTML' }, hasJS: false },
                { id: 'colors-backgrounds', title: { en: 'Colors & Backgrounds', vi: 'M√†u S·∫Øc & N·ªÅn' }, description: { en: 'Add colors and backgrounds', vi: 'Th√™m m√†u s·∫Øc v√† n·ªÅn' }, hasJS: false },
                { id: 'box-model', title: { en: 'Box Model & Spacing', vi: 'Box Model & Kho·∫£ng C√°ch' }, description: { en: 'Master padding, margin, and borders', vi: 'L√†m ch·ªß padding, margin v√† border' }, hasJS: false },
                { id: 'typography', title: { en: 'Typography & Text', vi: 'Typography & Ch·ªØ' }, description: { en: 'Style fonts and text beautifully', vi: 'T·∫°o ki·ªÉu font v√† ch·ªØ ƒë·∫πp m·∫Øt' }, hasJS: false },
                { id: 'display-position', title: { en: 'Display & Position', vi: 'Display & Position' }, description: { en: 'Control element positioning', vi: 'ƒêi·ªÅu khi·ªÉn ƒë·ªãnh v·ªã ph·∫ßn t·ª≠' }, hasJS: false },
            ],
            intermediate: [
                { id: 'flexbox', title: { en: 'Flexbox Layout', vi: 'B·ªë C·ª•c Flexbox' }, description: { en: 'Create flexible layouts', vi: 'T·∫°o b·ªë c·ª•c linh ho·∫°t' }, hasJS: false },
                { id: 'interactive-button', title: { en: 'Interactive Button', vi: 'N√∫t T∆∞∆°ng T√°c' }, description: { en: 'CSS + JavaScript interactions', vi: 'T∆∞∆°ng t√°c CSS + JavaScript' }, hasJS: true },
                { id: 'css-grid', title: { en: 'CSS Grid Layout', vi: 'B·ªë C·ª•c CSS Grid' }, description: { en: 'Two-dimensional layouts', vi: 'B·ªë c·ª•c hai chi·ªÅu' }, hasJS: false },
                { id: 'responsive-design', title: { en: 'Responsive Design', vi: 'Thi·∫øt K·∫ø Responsive' }, description: { en: 'Mobile-first layouts', vi: 'B·ªë c·ª•c mobile-first' }, hasJS: false },
                { id: 'pseudo-classes', title: { en: 'Pseudo-classes', vi: 'Pseudo-classes' }, description: { en: 'State-based styling', vi: 'T·∫°o ki·ªÉu theo tr·∫°ng th√°i' }, hasJS: false },
                { id: 'transforms-transitions', title: { en: 'Transforms & Transitions', vi: 'Transforms & Transitions' }, description: { en: 'Smooth animations', vi: 'Ho·∫°t ·∫£nh m∆∞·ª£t m√†' }, hasJS: false },
                { id: 'image-gallery', title: { en: 'Image Gallery', vi: 'Th∆∞ Vi·ªán ·∫¢nh' }, description: { en: 'Interactive gallery with JS', vi: 'Th∆∞ vi·ªán t∆∞∆°ng t√°c v·ªõi JS' }, hasJS: true },
            ],
            advanced: [
                { id: 'css-animations', title: { en: 'CSS Animations', vi: 'Ho·∫°t ·∫¢nh CSS' }, description: { en: 'Create complex animations', vi: 'T·∫°o ho·∫°t ·∫£nh ph·ª©c t·∫°p' }, hasJS: false },
                { id: 'dynamic-theme', title: { en: 'Dynamic Theme Switcher', vi: 'B·ªô Chuy·ªÉn Giao Di·ªán' }, description: { en: 'Build theme switchers', vi: 'X√¢y d·ª±ng b·ªô chuy·ªÉn giao di·ªán' }, hasJS: true },
                { id: 'css-variables', title: { en: 'CSS Variables', vi: 'CSS Variables' }, description: { en: 'Reusable values', vi: 'Gi√° tr·ªã t√°i s·ª≠ d·ª•ng' }, hasJS: false },
                { id: 'advanced-selectors', title: { en: 'Advanced Selectors', vi: 'B·ªô Ch·ªçn N√¢ng Cao' }, description: { en: 'Complex element targeting', vi: 'Nh·∫Øm ph·∫ßn t·ª≠ ph·ª©c t·∫°p' }, hasJS: false },
                
                { id: 'form-validation', title: { en: 'Form Validation', vi: 'X√°c Th·ª±c Form' }, description: { en: 'Real-time input validation', vi: 'X√°c th·ª±c input th·ªùi gian th·ª±c' }, hasJS: true },
                { id: 'todo-list', title: { en: 'Todo List App', vi: '·ª®ng D·ª•ng Todo' }, description: { en: 'Full CRUD application', vi: '·ª®ng d·ª•ng CRUD ƒë·∫ßy ƒë·ªß' }, hasJS: true },
            ]
        };

        function initIndex() {
            loadSettings();
            updateLanguage(); // Update language FIRST before showing any UI
            detectInAppBrowser();
            updateThemeButtons();
            renderLessons();
        }

        function loadSettings() {
            try {
                var savedLang = localStorage.getItem('cssLearningLang');
                var savedTheme = localStorage.getItem('cssLearningTheme');
                if (savedLang) currentLang = savedLang;
                if (savedTheme) {
                    currentTheme = savedTheme;
                    document.documentElement.setAttribute('data-theme', currentTheme);
                }
            } catch (e) {}
        }

        function saveSettings() {
            try {
                localStorage.setItem('cssLearningLang', currentLang);
                localStorage.setItem('cssLearningTheme', currentTheme);
            } catch (e) {}
        }

        function detectInAppBrowser() {
            var ua = navigator.userAgent || navigator.vendor || window.opera;
            var isInApp = /FBAN|FBAV|Instagram|Line|Zalo|Twitter|Viber|WebView|wv/i.test(ua);
            if (isInApp) {
                document.getElementById('compatWarning').classList.add('show');
            }
        }

        function dismissWarning() {
            document.getElementById('compatWarning').classList.remove('show');
        }

        function renderLessons() {
            renderCategory('beginner', 'beginnerLessons');
            renderCategory('intermediate', 'intermediateLessons');
            renderCategory('advanced', 'advancedLessons');
        }

        function renderCategory(category, containerId) {
            var container = document.getElementById(containerId);
            if (!container) return;

            var html = '';
            var lessons = lessonsIndex[category];

            for (var i = 0; i < lessons.length; i++) {
                var lesson = lessons[i];
                html += '<a href="lesson.html?id=' + lesson.id + '" class="lesson-card">';
                html += '<div class="lesson-card-header">';
                html += '<h3 class="lesson-card-title">' + lesson.title[currentLang] + '</h3>';
                html += '<span class="lesson-level level-' + category + '">' + category + '</span>';
                html += '</div>';
                html += '<p class="lesson-card-description">' + lesson.description[currentLang] + '</p>';
                html += '<div class="lesson-card-footer">';
                html += '<span>‚Üí ' + (currentLang === 'en' ? 'Start lesson' : 'B·∫Øt ƒë·∫ßu') + '</span>';
                if (lesson.hasJS) {
                    html += '<span class="has-js-badge">' + translations[currentLang].hasJS + '</span>';
                }
                html += '</div>';
                html += '</a>';
            }

            container.innerHTML = html;
        }

        function updateLanguage() {
            var textElements = [
                { id: 'headerTitle', key: 'headerTitle' },
                { id: 'settingsBtnText', key: 'settingsBtn' },
                { id: 'heroTitle', key: 'heroTitle' },
                { id: 'heroSubtitle', key: 'heroSubtitle' },
                { id: 'beginnerTitle', key: 'beginnerTitle' },
                { id: 'intermediateTitle', key: 'intermediateTitle' },
                { id: 'advancedTitle', key: 'advancedTitle' },
                { id: 'settingsModalTitle', key: 'settingsTitle' },
                { id: 'languageLabel', key: 'languageLabel' },
                { id: 'themeLabel', key: 'themeLabel' },
                { id: 'themeLightText', key: 'themeLight' },
                { id: 'themeDarkText', key: 'themeDark' },
                { id: 'footerText', key: 'footerText' },
                { id: 'compatWarningText', key: 'compatWarning' },
                { id: 'compatWarningBtn', key: 'compatWarningBtn' }
            ];

            for (var i = 0; i < textElements.length; i++) {
                var item = textElements[i];
                var el = document.getElementById(item.id);
                if (el && translations[currentLang][item.key]) {
                    el.textContent = translations[currentLang][item.key];
                }
            }

            var langEnBtn = document.getElementById('langEnBtn');
            var langViBtn = document.getElementById('langViBtn');
            if (langEnBtn) langEnBtn.className = 'setting-option' + (currentLang === 'en' ? ' active' : '');
            if (langViBtn) langViBtn.className = 'setting-option' + (currentLang === 'vi' ? ' active' : '');

            renderLessons();
        }

        function changeLanguage(lang) {
            currentLang = lang;
            updateLanguage();
            saveSettings();
        }

        function updateThemeButtons() {
            var lightBtn = document.getElementById('themeLightBtn');
            var darkBtn = document.getElementById('themeDarkBtn');
            if (lightBtn) lightBtn.className = 'setting-option' + (currentTheme === 'light' ? ' active' : '');
            if (darkBtn) darkBtn.className = 'setting-option' + (currentTheme === 'dark' ? ' active' : '');
        }

        function changeTheme(theme) {
            currentTheme = theme;
            document.documentElement.setAttribute('data-theme', theme);
            updateThemeButtons();
            saveSettings();
        }

        function openSettings() {
            document.getElementById('settingsModal').classList.add('show');
        }

        function closeSettings() {
            document.getElementById('settingsModal').classList.remove('show');
        }

        function closeSettingsIfOverlay(event) {
            if (event.target.id === 'settingsModal') closeSettings();
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initIndex);
        } else {
            initIndex();
        }
    </script>
</body>
</html>