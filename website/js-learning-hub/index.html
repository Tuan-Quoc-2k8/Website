<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn JavaScript</title>
    <style>
/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    line-height: 1.6;
    transition: background-color 0.3s, color 0.3s;
}

/* Light Theme */
.light-theme {
    background-color: #f5f5f5;
    color: #333;
}

.light-theme .container {
    background: white;
}

.light-theme .lesson-intro,
.light-theme .setting-group {
    background: #f8f9fa;
}

.light-theme .code-editor {
    background: #282c34;
    color: #abb2bf;
}

.light-theme .lesson-item {
    background: #f8f9fa;
}

.light-theme .settings-panel {
    background: rgba(255, 255, 255, 0.98);
}

.light-theme .editor-tabs {
    background: #e9ecef;
}

.light-theme .tab-btn {
    background: transparent;
    color: #495057;
}

.light-theme .tab-btn.active {
    background: white;
    color: #333;
}

.light-theme .preview-container {
    background: #f8f9fa;
    border: 2px solid #e9ecef;
}

/* Dark Theme */
.dark-theme {
    background-color: #1a1a1a;
    color: #e0e0e0;
}

.dark-theme .container {
    background: #2d2d2d;
}

.dark-theme h1,
.dark-theme h2,
.dark-theme h3 {
    color: #e0e0e0;
}

.dark-theme .lesson-intro {
    background: #3a3a3a;
    color: #b0b0b0;
}

.dark-theme .lesson-item {
    background: #3a3a3a;
    border-left-color: #4a9eff;
}

.dark-theme .lesson-title {
    color: #4a9eff;
}

.dark-theme .lesson-desc {
    color: #b0b0b0;
}

.dark-theme .back-btn,
.dark-theme .settings-btn {
    background: #3a3a3a;
    color: #e0e0e0;
}

.dark-theme .back-btn:hover,
.dark-theme .settings-btn:hover {
    background: #4a4a4a;
}

.dark-theme .settings-panel {
    background: rgba(45, 45, 45, 0.98);
}

.dark-theme .setting-group {
    background: #3a3a3a;
}

.dark-theme .setting-group label {
    color: #b0b0b0;
}

.dark-theme .code-editor {
    background: #1e1e1e;
    color: #d4d4d4;
}

.dark-theme .editor-tabs {
    background: #252526;
}

.dark-theme .tab-btn {
    background: transparent;
    color: #9d9d9d;
}

.dark-theme .tab-btn.active {
    background: #1e1e1e;
    color: #e0e0e0;
}

.dark-theme .preview-container {
    background: #2d2d2d;
    border-color: #3a3a3a;
}

.dark-theme .preview-label {
    color: #4a9eff;
}

.dark-theme .lang-btn {
    background: #3a3a3a;
    color: #b0b0b0;
}

.dark-theme .lang-btn.active {
    background: #4a9eff;
    color: white;
}

.dark-theme .in-app-warning {
    background: #3a3a00;
    border-color: #ffc107;
    color: #ffd54f;
}

/* Container */
.container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
    min-height: 100vh;
}

.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    flex-wrap: wrap;
    gap: 10px;
}

h1 {
    font-size: 2em;
    color: #2c3e50;
    margin: 0;
}

.subtitle {
    color: #7f8c8d;
    margin-bottom: 20px;
    font-size: 1.1em;
}

/* Settings */
.settings-btn {
    background: #ecf0f1;
    border: none;
    padding: 10px 15px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 1.2em;
    transition: background 0.2s;
}

.settings-btn:hover {
    background: #bdc3c7;
}

.settings-panel {
    display: none;
    position: fixed;
    top: 0;
    right: 0;
    width: 300px;
    height: 100%;
    background: rgba(255, 255, 255, 0.98);
    box-shadow: -2px 0 10px rgba(0,0,0,0.1);
    padding: 20px;
    z-index: 1000;
    overflow-y: auto;
}

.settings-content h3 {
    margin-bottom: 20px;
    color: #2c3e50;
}

.setting-group {
    margin-bottom: 20px;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 6px;
}

.setting-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: #495057;
}

/* Language Buttons */
.lang-buttons {
    display: flex;
    gap: 8px;
}

.lang-btn {
    flex: 1;
    padding: 10px;
    background: #e9ecef;
    border: 2px solid transparent;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.95em;
    transition: all 0.2s;
}

.lang-btn:hover {
    background: #dee2e6;
}

.lang-btn.active {
    background: #3498db;
    color: white;
    border-color: #2980b9;
}

/* Theme Toggle */
.theme-toggle-container {
    display: flex;
    align-items: center;
    gap: 10px;
}

.theme-toggle {
    position: relative;
    width: 60px;
    height: 30px;
    background: #ccc;
    border-radius: 15px;
    cursor: pointer;
    transition: background 0.3s;
}

.theme-toggle.active {
    background: #3498db;
}

.theme-toggle-slider {
    position: absolute;
    top: 3px;
    left: 3px;
    width: 24px;
    height: 24px;
    background: white;
    border-radius: 50%;
    transition: transform 0.3s;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.theme-toggle.active .theme-toggle-slider {
    transform: translateX(30px);
}

.theme-label {
    font-size: 0.9em;
    color: #7f8c8d;
}

.close-settings {
    width: 100%;
    padding: 10px;
    background: #3498db;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 1em;
    transition: background 0.2s;
}

.close-settings:hover {
    background: #2980b9;
}

/* Warning */
.in-app-warning {
    background: #fff3cd;
    border: 1px solid #ffc107;
    color: #856404;
    padding: 12px;
    border-radius: 6px;
    margin-bottom: 20px;
    font-size: 0.9em;
}

/* Lesson List */
.lesson-list {
    list-style: none;
    margin-bottom: 20px;
}

.lesson-item {
    margin-bottom: 15px;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 6px;
    border-left: 4px solid #3498db;
    transition: transform 0.2s, box-shadow 0.2s;
    cursor: pointer;
}

.lesson-item:hover {
    transform: translateX(5px);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.lesson-title {
    font-size: 1.2em;
    font-weight: 600;
    margin-bottom: 5px;
    color: #3498db;
}

.lesson-desc {
    color: #7f8c8d;
    font-size: 0.95em;
}

/* Back Button */
.back-btn {
    padding: 8px 16px;
    background: #ecf0f1;
    color: #2c3e50;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1em;
    transition: background 0.2s;
}

.back-btn:hover {
    background: #bdc3c7;
}

/* Lesson Intro */
.lesson-intro {
    padding: 15px;
    background: #f8f9fa;
    border-radius: 6px;
    margin-bottom: 20px;
    color: #495057;
}

/* Editor */
.editor-container {
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.editor-tabs {
    display: flex;
    background: #e9ecef;
    border-bottom: 2px solid #dee2e6;
}

.tab-btn {
    flex: 1;
    padding: 12px 20px;
    background: transparent;
    border: none;
    cursor: pointer;
    font-size: 1em;
    font-weight: 500;
    color: #495057;
    transition: background 0.2s, color 0.2s;
}

.tab-btn.active {
    background: white;
    color: #333;
}

.tab-btn:hover {
    background: rgba(255,255,255,0.5);
}

.code-editor {
    width: 100%;
    min-height: 300px;
    padding: 20px;
    font-family: 'Courier New', Consolas, monospace;
    font-size: 14px;
    line-height: 1.5;
    border: none;
    resize: vertical;
    background: #282c34;
    color: #abb2bf;
    tab-size: 2;
}

.code-editor:focus {
    outline: none;
}

.editor-actions {
    display: flex;
    gap: 10px;
    padding: 15px;
    background: #f8f9fa;
    border-top: 1px solid #dee2e6;
}

.run-btn {
    padding: 10px 20px;
    background: #28a745;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 1em;
    font-weight: 500;
    transition: background 0.2s;
}

.run-btn:hover {
    background: #218838;
}

.reset-btn {
    padding: 10px 20px;
    background: #6c757d;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 1em;
    transition: background 0.2s;
}

.reset-btn:hover {
    background: #5a6268;
}

.preview-container {
    margin-top: 20px;
    background: #f8f9fa;
    border: 2px solid #e9ecef;
    border-radius: 8px;
    overflow: hidden;
}

.preview-label {
    padding: 10px 15px;
    background: #e9ecef;
    font-weight: 600;
    color: #495057;
}

#preview {
    width: 100%;
    height: 400px;
    border: none;
    background: white;
}

.hidden {
    display: none;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    h1 { font-size: 1.5em; }
    .settings-panel { width: 100%; }
    .editor-tabs { overflow-x: auto; }
    .tab-btn { white-space: nowrap; }
    .code-editor { min-height: 200px; font-size: 12px; }
    #preview { height: 300px; }
    .editor-actions { flex-direction: column; }
    .run-btn, .reset-btn { width: 100%; }
}

/* Custom Confirmation Modal */
.modal-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    z-index: 2000;
    animation: fadeIn 0.2s;
}

.modal-overlay.show {
    display: flex;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: white;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    max-width: 400px;
    width: 90%;
    animation: slideUp 0.3s;
}

.dark-theme .modal-content {
    background: #2d2d2d;
    color: #e0e0e0;
}

.modal-content h3 {
    margin: 0 0 15px 0;
    color: #2c3e50;
    font-size: 1.5em;
}

.dark-theme .modal-content h3 {
    color: #e0e0e0;
}

.modal-content p {
    margin: 0 0 25px 0;
    color: #666;
    font-size: 1.1em;
}

.dark-theme .modal-content p {
    color: #b0b0b0;
}

.modal-buttons {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
}

.modal-btn {
    padding: 10px 24px;
    border: none;
    border-radius: 6px;
    font-size: 1em;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.2s;
}

.cancel-btn {
    background: #e0e0e0;
    color: #333;
}

.cancel-btn:hover {
    background: #d0d0d0;
}

.dark-theme .cancel-btn {
    background: #4a4a4a;
    color: #e0e0e0;
}

.dark-theme .cancel-btn:hover {
    background: #5a5a5a;
}

.confirm-btn {
    background: #3498db;
    color: white;
}

.confirm-btn:hover {
    background: #2980b9;
    transform: translateY(-1px);
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideUp {
    from { 
        transform: translateY(20px);
        opacity: 0;
    }
    to { 
        transform: translateY(0);
        opacity: 1;
    }
}
    </style>
</head>
<body class="light-theme">
    <div class="container">
        <!-- Main View (Lesson List) -->
        <div id="mainView">
            <header class="header">
                <h1 id="mainTitle">üìö Learn JavaScript</h1>
                <button class="settings-btn" onclick="app.toggleSettings()">‚öôÔ∏è</button>
            </header>

            <div class="subtitle" id="subtitle">Interactive lessons for beginners</div>

            <div id="inAppWarning" class="in-app-warning hidden">
                <span id="warningText"></span>
            </div>

            <ul class="lesson-list" id="lessonList"></ul>
        </div>

        <!-- Lesson View -->
        <div id="lessonView" class="hidden">
            <header class="header">
                <button class="back-btn" onclick="app.showMainView()">‚Üê <span id="backText">Back</span></button>
                <h1 id="lessonTitle">Loading...</h1>
                <button class="settings-btn" onclick="app.toggleSettings()">‚öôÔ∏è</button>
            </header>

            <div class="lesson-intro" id="lessonIntro"></div>

            <div class="editor-container">
                <div class="editor-tabs">
                    <button class="tab-btn active" id="htmlTab" onclick="app.switchTab('html')">HTML</button>
                    <button class="tab-btn" id="cssTab" onclick="app.switchTab('css')">CSS</button>
                    <button class="tab-btn" id="jsTab" onclick="app.switchTab('js')">JavaScript</button>
                </div>

                <div class="editors">
                    <textarea class="code-editor" id="htmlCode" spellcheck="false"></textarea>
                    <textarea class="code-editor hidden" id="cssCode" spellcheck="false"></textarea>
                    <textarea class="code-editor hidden" id="jsCode" spellcheck="false"></textarea>
                </div>

                <div class="editor-actions">
                    <button class="run-btn" onclick="app.runCode()" id="runBtn">‚ñ∂ Run Code</button>
                    <button class="reset-btn" onclick="app.resetCode()" id="resetBtn">‚Ü∫ Reset</button>
                </div>

                <div class="preview-container">
                    <div class="preview-label" id="previewLabel">Preview</div>
                    <iframe id="preview" sandbox="allow-scripts"></iframe>
                </div>
            </div>
        </div>

        <!-- Settings Panel -->
        <div class="settings-panel" id="settingsPanel">
            <div class="settings-content">
                <h3 id="settingsTitle">Settings</h3>
                
                <div class="setting-group">
                    <label id="languageLabel">Language</label>
                    <div class="lang-buttons">
                        <button class="lang-btn active" onclick="app.changeLanguage('en')">English</button>
                        <button class="lang-btn" onclick="app.changeLanguage('vi')">Ti·∫øng Vi·ªát</button>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label id="themeLabel">Theme</label>
                    <div class="theme-toggle-container">
                        <span class="theme-label">‚òÄÔ∏è Light</span>
                        <div class="theme-toggle" onclick="app.toggleTheme()">
                            <div class="theme-toggle-slider"></div>
                        </div>
                        <span class="theme-label">üåô Dark</span>
                    </div>
                </div>
                
                <button class="close-settings" onclick="app.toggleSettings()" id="closeBtn">Close</button>
            </div>
        </div>

        <!-- Custom Confirmation Modal -->
        <div class="modal-overlay" id="confirmModal">
            <div class="modal-content">
                <h3 id="modalTitle">Confirm Reset</h3>
                <p id="modalMessage">Reset to original code?</p>
                <div class="modal-buttons">
                    <button class="modal-btn cancel-btn" onclick="app.hideConfirmModal(false)">Cancel</button>
                    <button class="modal-btn confirm-btn" onclick="app.hideConfirmModal(true)">Reset</button>
                </div>
            </div>
        </div>
    </div>

    <script>
const app = {
    currentLang: 'en',
    currentTheme: 'light',
    currentTab: 'html',
    currentLesson: null,
    originalCode: {},
    
    translations: {
        en: {
            mainTitle: 'üìö Learn JavaScript',
            subtitle: 'Interactive lessons for beginners',
            backText: 'Back',
            settingsTitle: 'Settings',
            languageLabel: 'Language',
            themeLabel: 'Theme',
            closeBtn: 'Close',
            runBtn: '‚ñ∂ Run Code',
            resetBtn: '‚Ü∫ Reset',
            previewLabel: 'Preview',
            warningText: '‚ö†Ô∏è You are viewing this in an in-app browser. For the best experience, open in Safari, Chrome, or Firefox.',
            lessons: [
                {
                    title: 'Variables and Data Types',
                    description: 'Learn how to store and use data in JavaScript',
                    intro: '<strong>What you\'ll learn:</strong> How to store information using variables and understand different types of data in JavaScript.',
                    html: '<div id="output"></div>',
                    css: '#output {\n  padding: 20px;\n  background: #f0f0f0;\n  border-radius: 8px;\n  font-family: monospace;\n  font-size: 14px;\n}',
                    js: '// Variables store data\nvar name = "Alice";\nvar age = 25;\nvar isStudent = true;\n\n// Display on page\nvar output = document.getElementById("output");\noutput.innerHTML = "Name: " + name + "<br>";\noutput.innerHTML += "Age: " + age + "<br>";\noutput.innerHTML += "Student: " + isStudent;'
                },
                {
                    title: 'Functions',
                    description: 'Create reusable blocks of code with functions',
                    intro: '<strong>What you\'ll learn:</strong> How to create reusable blocks of code using functions.',
                    html: '<button onclick="greet()">Click Me</button>\n<div id="message"></div>',
                    css: 'button {\n  padding: 10px 20px;\n  font-size: 16px;\n  background: #3498db;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background: #2980b9;\n}\n\n#message {\n  margin-top: 15px;\n  padding: 15px;\n  background: #e8f5e9;\n  border-radius: 6px;\n}',
                    js: '// Define a function\nfunction greet() {\n  var message = document.getElementById("message");\n  var time = new Date().getHours();\n  var greeting;\n  \n  if (time < 12) {\n    greeting = "Good morning!";\n  } else if (time < 18) {\n    greeting = "Good afternoon!";\n  } else {\n    greeting = "Good evening!";\n  }\n  \n  message.innerHTML = greeting + " Welcome to JavaScript!";\n}'
                },
                {
                    title: 'DOM Manipulation',
                    description: 'Change HTML content and styles with JavaScript',
                    intro: '<strong>What you\'ll learn:</strong> How to use JavaScript to find and change HTML elements on your page.',
                    html: '<h2 id="title">Original Title</h2>\n<p id="text">Original text</p>\n<button onclick="changeContent()">Change Content</button>',
                    css: '#title {\n  color: #3498db;\n  transition: color 0.3s;\n}\n\n#text {\n  padding: 10px;\n  background: #f8f9fa;\n  border-left: 4px solid #3498db;\n  transition: all 0.3s;\n}\n\nbutton {\n  padding: 10px 20px;\n  background: #e74c3c;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  margin-top: 10px;\n}',
                    js: '// Change DOM elements\nfunction changeContent() {\n  var title = document.getElementById("title");\n  var text = document.getElementById("text");\n  \n  title.innerHTML = "Changed by JavaScript!";\n  title.style.color = "#e74c3c";\n  \n  text.innerHTML = "The DOM has been modified!";\n  text.style.background = "#ffe8e6";\n  text.style.borderLeftColor = "#e74c3c";\n}'
                },
                {
                    title: 'Event Handling',
                    description: 'Make your pages interactive with event listeners',
                    intro: '<strong>What you\'ll learn:</strong> How to make your pages interactive by responding to user actions.',
                    html: '<div class="counter">\n  <h2>Click Counter: <span id="count">0</span></h2>\n  <button id="clickBtn">Click Me!</button>\n  <button id="resetBtn">Reset</button>\n</div>',
                    css: '.counter {\n  text-align: center;\n  padding: 30px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border-radius: 12px;\n}\n\nbutton {\n  padding: 12px 24px;\n  font-size: 16px;\n  margin: 5px;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: transform 0.2s;\n}\n\n#clickBtn {\n  background: #28a745;\n  color: white;\n}\n\n#resetBtn {\n  background: #dc3545;\n  color: white;\n}\n\nbutton:hover {\n  transform: scale(1.05);\n}',
                    js: '// Event listeners\nvar count = 0;\nvar countDisplay = document.getElementById("count");\nvar clickBtn = document.getElementById("clickBtn");\nvar resetBtn = document.getElementById("resetBtn");\n\nclickBtn.addEventListener("click", function() {\n  count = count + 1;\n  countDisplay.innerHTML = count;\n});\n\nresetBtn.addEventListener("click", function() {\n  count = 0;\n  countDisplay.innerHTML = count;\n});'
                },
                {
                    title: 'Arrays and Loops',
                    description: 'Work with lists of data and repeat actions',
                    intro: '<strong>What you\'ll learn:</strong> How to work with lists of data using arrays and how to repeat actions using loops.',
                    html: '<div id="fruitList"></div>\n<button onclick="displayFruits()">Show Fruits</button>',
                    css: '#fruitList {\n  margin: 20px 0;\n  padding: 20px;\n  background: #fff3e0;\n  border-radius: 8px;\n  min-height: 100px;\n}\n\n.fruit-item {\n  padding: 10px;\n  margin: 5px 0;\n  background: white;\n  border-left: 4px solid #ff9800;\n  border-radius: 4px;\n}\n\nbutton {\n  padding: 10px 20px;\n  background: #ff9800;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 16px;\n}',
                    js: '// Arrays and loops\nvar fruits = ["Apple", "Banana", "Orange", "Mango", "Grape"];\n\nfunction displayFruits() {\n  var list = document.getElementById("fruitList");\n  var html = "";\n  \n  // Loop through array\n  for (var i = 0; i < fruits.length; i = i + 1) {\n    html += \'<div class="fruit-item">\';\n    html += (i + 1) + ". " + fruits[i];\n    html += "</div>";\n  }\n  \n  list.innerHTML = html;\n}'
                },
                {
                    title: 'Objects',
                    description: 'Store related data together using objects',
                    intro: '<strong>What you\'ll learn:</strong> How to use objects to organize and store related information together.',
                    html: '<div id="personCard"></div>\n<button onclick="showPerson()">Show Person Info</button>',
                    css: '#personCard {\n  margin: 20px 0;\n  padding: 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border-radius: 12px;\n  min-height: 100px;\n}\n\n.info-row {\n  padding: 8px;\n  margin: 5px 0;\n  background: rgba(255,255,255,0.2);\n  border-radius: 6px;\n  font-size: 16px;\n}\n\n.label {\n  font-weight: bold;\n}\n\nbutton {\n  padding: 12px 24px;\n  background: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 16px;\n}',
                    js: '// Objects store related data\nvar person = {\n  name: "Sarah Johnson",\n  age: 28,\n  job: "Web Developer",\n  city: "San Francisco",\n  hobby: "Photography"\n};\n\nfunction showPerson() {\n  var card = document.getElementById("personCard");\n  var html = "";\n  \n  html += \'<div class="info-row"><span class="label">Name:</span> \' + person.name + "</div>";\n  html += \'<div class="info-row"><span class="label">Age:</span> \' + person.age + "</div>";\n  html += \'<div class="info-row"><span class="label">Job:</span> \' + person.job + "</div>";\n  html += \'<div class="info-row"><span class="label">City:</span> \' + person.city + "</div>";\n  html += \'<div class="info-row"><span class="label">Hobby:</span> \' + person.hobby + "</div>";\n  \n  card.innerHTML = html;\n}'
                },
                {
                    title: 'Conditionals',
                    description: 'Make decisions in your code with if/else statements',
                    intro: '<strong>What you\'ll learn:</strong> How to make your code respond differently based on conditions.',
                    html: '<div class="age-checker">\n  <h3>Age Checker</h3>\n  <input type="number" id="ageInput" placeholder="Enter your age">\n  <button onclick="checkAge()">Check</button>\n  <div id="result"></div>\n</div>',
                    css: '.age-checker {\n  padding: 30px;\n  background: #f0f4ff;\n  border-radius: 12px;\n  text-align: center;\n}\n\nh3 {\n  color: #2c3e50;\n  margin-bottom: 20px;\n}\n\ninput {\n  padding: 12px;\n  font-size: 16px;\n  border: 2px solid #3498db;\n  border-radius: 6px;\n  width: 200px;\n  margin-right: 10px;\n}\n\nbutton {\n  padding: 12px 24px;\n  background: #3498db;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 16px;\n}\n\n#result {\n  margin-top: 20px;\n  padding: 15px;\n  border-radius: 8px;\n  font-size: 18px;\n  font-weight: bold;\n}',
                    js: '// Conditionals\nfunction checkAge() {\n  var age = document.getElementById("ageInput").value;\n  var result = document.getElementById("result");\n  \n  if (age === "") {\n    result.innerHTML = "Please enter your age!";\n    result.style.background = "#ffe8e6";\n    result.style.color = "#e74c3c";\n  } else if (age < 13) {\n    result.innerHTML = "You are a child! üë∂";\n    result.style.background = "#fff3e0";\n    result.style.color = "#ff9800";\n  } else if (age < 18) {\n    result.innerHTML = "You are a teenager! üéÆ";\n    result.style.background = "#e3f2fd";\n    result.style.color = "#2196f3";\n  } else if (age < 65) {\n    result.innerHTML = "You are an adult! üíº";\n    result.style.background = "#e8f5e9";\n    result.style.color = "#4caf50";\n  } else {\n    result.innerHTML = "You are a senior! üåü";\n    result.style.background = "#f3e5f5";\n    result.style.color = "#9c27b0";\n  }\n}'
                },
                {
                    title: 'String Manipulation',
                    description: 'Work with text and learn string methods',
                    intro: '<strong>What you\'ll learn:</strong> How to manipulate text using JavaScript string methods.',
                    html: '<div class="string-demo">\n  <h3>Text Transformer</h3>\n  <input type="text" id="textInput" placeholder="Enter some text">\n  <div class="buttons">\n    <button onclick="toUpper()">UPPERCASE</button>\n    <button onclick="toLower()">lowercase</button>\n    <button onclick="getLength()">Count Letters</button>\n    <button onclick="reverseText()">Reverse</button>\n  </div>\n  <div id="output"></div>\n</div>',
                    css: '.string-demo {\n  padding: 25px;\n  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\n  color: white;\n  border-radius: 12px;\n}\n\nh3 {\n  margin-bottom: 15px;\n}\n\ninput {\n  width: 100%;\n  padding: 12px;\n  font-size: 16px;\n  border: none;\n  border-radius: 6px;\n  margin-bottom: 15px;\n}\n\n.buttons {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n  margin-bottom: 15px;\n}\n\nbutton {\n  flex: 1;\n  min-width: 100px;\n  padding: 10px;\n  background: white;\n  color: #f5576c;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-weight: bold;\n}\n\nbutton:hover {\n  transform: scale(1.05);\n}\n\n#output {\n  padding: 15px;\n  background: rgba(255,255,255,0.3);\n  border-radius: 8px;\n  min-height: 50px;\n  font-size: 18px;\n  font-weight: bold;\n}',
                    js: '// String methods\nfunction toUpper() {\n  var text = document.getElementById("textInput").value;\n  document.getElementById("output").innerHTML = text.toUpperCase();\n}\n\nfunction toLower() {\n  var text = document.getElementById("textInput").value;\n  document.getElementById("output").innerHTML = text.toLowerCase();\n}\n\nfunction getLength() {\n  var text = document.getElementById("textInput").value;\n  document.getElementById("output").innerHTML = "Length: " + text.length + " characters";\n}\n\nfunction reverseText() {\n  var text = document.getElementById("textInput").value;\n  var reversed = "";\n  for (var i = text.length - 1; i >= 0; i = i - 1) {\n    reversed = reversed + text[i];\n  }\n  document.getElementById("output").innerHTML = reversed;\n}'
                },
                {
                    title: 'Math Operations',
                    description: 'Perform calculations with JavaScript Math',
                    intro: '<strong>What you\'ll learn:</strong> How to use JavaScript to perform mathematical calculations.',
                    html: '<div class="calculator">\n  <h3>Simple Calculator</h3>\n  <input type="number" id="num1" placeholder="First number">\n  <input type="number" id="num2" placeholder="Second number">\n  <div class="calc-buttons">\n    <button onclick="add()">+</button>\n    <button onclick="subtract()">-</button>\n    <button onclick="multiply()">√ó</button>\n    <button onclick="divide()">√∑</button>\n  </div>\n  <div id="calcResult"></div>\n</div>',
                    css: '.calculator {\n  padding: 30px;\n  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);\n  border-radius: 12px;\n  text-align: center;\n}\n\nh3 {\n  color: #fff;\n  margin-bottom: 20px;\n  font-size: 24px;\n}\n\ninput {\n  display: block;\n  width: 100%;\n  padding: 12px;\n  margin: 10px 0;\n  font-size: 18px;\n  border: none;\n  border-radius: 8px;\n  text-align: center;\n}\n\n.calc-buttons {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 10px;\n  margin: 20px 0;\n}\n\nbutton {\n  padding: 20px;\n  font-size: 24px;\n  background: white;\n  color: #fa709a;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: bold;\n}\n\nbutton:hover {\n  transform: scale(1.1);\n}\n\n#calcResult {\n  padding: 20px;\n  background: rgba(255,255,255,0.9);\n  border-radius: 8px;\n  font-size: 28px;\n  font-weight: bold;\n  color: #fa709a;\n  min-height: 50px;\n}',
                    js: '// Math operations\nfunction add() {\n  var n1 = parseFloat(document.getElementById("num1").value);\n  var n2 = parseFloat(document.getElementById("num2").value);\n  document.getElementById("calcResult").innerHTML = n1 + n2;\n}\n\nfunction subtract() {\n  var n1 = parseFloat(document.getElementById("num1").value);\n  var n2 = parseFloat(document.getElementById("num2").value);\n  document.getElementById("calcResult").innerHTML = n1 - n2;\n}\n\nfunction multiply() {\n  var n1 = parseFloat(document.getElementById("num1").value);\n  var n2 = parseFloat(document.getElementById("num2").value);\n  document.getElementById("calcResult").innerHTML = n1 * n2;\n}\n\nfunction divide() {\n  var n1 = parseFloat(document.getElementById("num1").value);\n  var n2 = parseFloat(document.getElementById("num2").value);\n  if (n2 === 0) {\n    document.getElementById("calcResult").innerHTML = "Cannot divide by zero!";\n  } else {\n    document.getElementById("calcResult").innerHTML = n1 / n2;\n  }\n}'
                },
                {
                    title: 'Form Validation',
                    description: 'Validate user input in forms',
                    intro: '<strong>What you\'ll learn:</strong> How to check if form inputs are valid before submitting.',
                    html: '<div class="form-container">\n  <h3>Registration Form</h3>\n  <input type="text" id="username" placeholder="Username (min 4 chars)">\n  <input type="email" id="email" placeholder="Email">\n  <input type="password" id="password" placeholder="Password (min 6 chars)">\n  <button onclick="validateForm()">Register</button>\n  <div id="formMessage"></div>\n</div>',
                    css: '.form-container {\n  max-width: 400px;\n  margin: 0 auto;\n  padding: 30px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 12px;\n}\n\nh3 {\n  color: white;\n  margin-bottom: 20px;\n  text-align: center;\n}\n\ninput {\n  display: block;\n  width: 100%;\n  padding: 12px;\n  margin: 10px 0;\n  font-size: 16px;\n  border: 2px solid transparent;\n  border-radius: 8px;\n}\n\ninput:focus {\n  outline: none;\n  border-color: #4CAF50;\n}\n\nbutton {\n  width: 100%;\n  padding: 14px;\n  margin-top: 10px;\n  background: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 18px;\n  cursor: pointer;\n  font-weight: bold;\n}\n\nbutton:hover {\n  background: #45a049;\n}\n\n#formMessage {\n  margin-top: 15px;\n  padding: 12px;\n  border-radius: 8px;\n  font-weight: bold;\n  text-align: center;\n}',
                    js: '// Form validation\nfunction validateForm() {\n  var username = document.getElementById("username").value;\n  var email = document.getElementById("email").value;\n  var password = document.getElementById("password").value;\n  var message = document.getElementById("formMessage");\n  \n  if (username.length < 4) {\n    message.innerHTML = "‚ùå Username must be at least 4 characters";\n    message.style.background = "#ffebee";\n    message.style.color = "#c62828";\n  } else if (email.indexOf("@") === -1) {\n    message.innerHTML = "‚ùå Please enter a valid email";\n    message.style.background = "#ffebee";\n    message.style.color = "#c62828";\n  } else if (password.length < 6) {\n    message.innerHTML = "‚ùå Password must be at least 6 characters";\n    message.style.background = "#ffebee";\n    message.style.color = "#c62828";\n  } else {\n    message.innerHTML = "‚úÖ Registration successful! Welcome, " + username + "!";\n    message.style.background = "#e8f5e9";\n    message.style.color = "#2e7d32";\n  }\n}'
                }
            ]
        },
        vi: {
            mainTitle: 'üìö H·ªçc JavaScript',
            subtitle: 'C√°c b√†i h·ªçc t∆∞∆°ng t√°c cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu',
            backText: 'Quay l·∫°i',
            settingsTitle: 'C√†i ƒë·∫∑t',
            languageLabel: 'Ng√¥n ng·ªØ',
            themeLabel: 'Giao di·ªán',
            closeBtn: 'ƒê√≥ng',
            runBtn: '‚ñ∂ Ch·∫°y Code',
            resetBtn: '‚Ü∫ ƒê·∫∑t l·∫°i',
            previewLabel: 'Xem tr∆∞·ªõc',
            warningText: '‚ö†Ô∏è B·∫°n ƒëang xem trong tr√¨nh duy·ªát ·ª©ng d·ª•ng. ƒê·ªÉ c√≥ tr·∫£i nghi·ªám t·ªët nh·∫•t, h√£y m·ªü trong Safari, Chrome ho·∫∑c Firefox.',
            lessons: [
                {
                    title: 'Bi·∫øn v√† Ki·ªÉu D·ªØ Li·ªáu',
                    description: 'H·ªçc c√°ch l∆∞u tr·ªØ v√† s·ª≠ d·ª•ng d·ªØ li·ªáu trong JavaScript',
                    intro: '<strong>B·∫°n s·∫Ω h·ªçc:</strong> C√°ch l∆∞u tr·ªØ th√¥ng tin b·∫±ng bi·∫øn v√† hi·ªÉu c√°c ki·ªÉu d·ªØ li·ªáu kh√°c nhau trong JavaScript.',
                    html: '<div id="output"></div>',
                    css: '#output {\n  padding: 20px;\n  background: #f0f0f0;\n  border-radius: 8px;\n  font-family: monospace;\n  font-size: 14px;\n}',
                    js: '// Bi·∫øn l∆∞u tr·ªØ d·ªØ li·ªáu\nvar name = "Alice";\nvar age = 25;\nvar isStudent = true;\n\n// Hi·ªÉn th·ªã tr√™n trang\nvar output = document.getElementById("output");\noutput.innerHTML = "T√™n: " + name + "<br>";\noutput.innerHTML += "Tu·ªïi: " + age + "<br>";\noutput.innerHTML += "H·ªçc sinh: " + isStudent;'
                },
                {
                    title: 'H√†m',
                    description: 'T·∫°o c√°c kh·ªëi m√£ c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng v·ªõi h√†m',
                    intro: '<strong>B·∫°n s·∫Ω h·ªçc:</strong> C√°ch t·∫°o c√°c kh·ªëi m√£ c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng b·∫±ng h√†m.',
                    html: '<button onclick="greet()">Nh·∫•p v√†o t√¥i</button>\n<div id="message"></div>',
                    css: 'button {\n  padding: 10px 20px;\n  font-size: 16px;\n  background: #3498db;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background: #2980b9;\n}\n\n#message {\n  margin-top: 15px;\n  padding: 15px;\n  background: #e8f5e9;\n  border-radius: 6px;\n}',
                    js: '// ƒê·ªãnh nghƒ©a h√†m\nfunction greet() {\n  var message = document.getElementById("message");\n  var time = new Date().getHours();\n  var greeting;\n  \n  if (time < 12) {\n    greeting = "Ch√†o bu·ªïi s√°ng!";\n  } else if (time < 18) {\n    greeting = "Ch√†o bu·ªïi chi·ªÅu!";\n  } else {\n    greeting = "Ch√†o bu·ªïi t·ªëi!";\n  }\n  \n  message.innerHTML = greeting + " Ch√†o m·ª´ng ƒë·∫øn v·ªõi JavaScript!";\n}'
                },
                {
                    title: 'Thao T√°c DOM',
                    description: 'Thay ƒë·ªïi n·ªôi dung HTML v√† ki·ªÉu d√°ng v·ªõi JavaScript',
                    intro: '<strong>B·∫°n s·∫Ω h·ªçc:</strong> C√°ch s·ª≠ d·ª•ng JavaScript ƒë·ªÉ t√¨m v√† thay ƒë·ªïi c√°c ph·∫ßn t·ª≠ HTML tr√™n trang.',
                    html: '<h2 id="title">Ti√™u ƒë·ªÅ g·ªëc</h2>\n<p id="text">VƒÉn b·∫£n g·ªëc</p>\n<button onclick="changeContent()">Thay ƒë·ªïi n·ªôi dung</button>',
                    css: '#title {\n  color: #3498db;\n  transition: color 0.3s;\n}\n\n#text {\n  padding: 10px;\n  background: #f8f9fa;\n  border-left: 4px solid #3498db;\n  transition: all 0.3s;\n}\n\nbutton {\n  padding: 10px 20px;\n  background: #e74c3c;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  margin-top: 10px;\n}',
                    js: '// Thay ƒë·ªïi c√°c ph·∫ßn t·ª≠ DOM\nfunction changeContent() {\n  var title = document.getElementById("title");\n  var text = document.getElementById("text");\n  \n  title.innerHTML = "ƒê√£ thay ƒë·ªïi b·ªüi JavaScript!";\n  title.style.color = "#e74c3c";\n  \n  text.innerHTML = "DOM ƒë√£ ƒë∆∞·ª£c s·ª≠a ƒë·ªïi!";\n  text.style.background = "#ffe8e6";\n  text.style.borderLeftColor = "#e74c3c";\n}'
                },
                {
                    title: 'X·ª≠ L√Ω S·ª± Ki·ªán',
                    description: 'L√†m cho trang c·ªßa b·∫°n t∆∞∆°ng t√°c v·ªõi event listeners',
                    intro: '<strong>B·∫°n s·∫Ω h·ªçc:</strong> C√°ch l√†m cho trang c·ªßa b·∫°n t∆∞∆°ng t√°c b·∫±ng c√°ch ph·∫£n h·ªìi c√°c h√†nh ƒë·ªông c·ªßa ng∆∞·ªùi d√πng.',
                    html: '<div class="counter">\n  <h2>B·ªô ƒë·∫øm: <span id="count">0</span></h2>\n  <button id="clickBtn">Nh·∫•p v√†o!</button>\n  <button id="resetBtn">ƒê·∫∑t l·∫°i</button>\n</div>',
                    css: '.counter {\n  text-align: center;\n  padding: 30px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border-radius: 12px;\n}\n\nbutton {\n  padding: 12px 24px;\n  font-size: 16px;\n  margin: 5px;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: transform 0.2s;\n}\n\n#clickBtn {\n  background: #28a745;\n  color: white;\n}\n\n#resetBtn {\n  background: #dc3545;\n  color: white;\n}\n\nbutton:hover {\n  transform: scale(1.05);\n}',
                    js: '// Tr√¨nh l·∫Øng nghe s·ª± ki·ªán\nvar count = 0;\nvar countDisplay = document.getElementById("count");\nvar clickBtn = document.getElementById("clickBtn");\nvar resetBtn = document.getElementById("resetBtn");\n\nclickBtn.addEventListener("click", function() {\n  count = count + 1;\n  countDisplay.innerHTML = count;\n});\n\nresetBtn.addEventListener("click", function() {\n  count = 0;\n  countDisplay.innerHTML = count;\n});'
                },
                {
                    title: 'M·∫£ng v√† V√≤ng L·∫∑p',
                    description: 'L√†m vi·ªác v·ªõi danh s√°ch d·ªØ li·ªáu v√† l·∫∑p l·∫°i h√†nh ƒë·ªông',
                    intro: '<strong>B·∫°n s·∫Ω h·ªçc:</strong> C√°ch l√†m vi·ªác v·ªõi danh s√°ch d·ªØ li·ªáu b·∫±ng m·∫£ng v√† c√°ch l·∫∑p l·∫°i h√†nh ƒë·ªông b·∫±ng v√≤ng l·∫∑p.',
                    html: '<div id="fruitList"></div>\n<button onclick="displayFruits()">Hi·ªÉn th·ªã tr√°i c√¢y</button>',
                    css: '#fruitList {\n  margin: 20px 0;\n  padding: 20px;\n  background: #fff3e0;\n  border-radius: 8px;\n  min-height: 100px;\n}\n\n.fruit-item {\n  padding: 10px;\n  margin: 5px 0;\n  background: white;\n  border-left: 4px solid #ff9800;\n  border-radius: 4px;\n}\n\nbutton {\n  padding: 10px 20px;\n  background: #ff9800;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 16px;\n}',
                    js: '// M·∫£ng v√† v√≤ng l·∫∑p\nvar fruits = ["T√°o", "Chu·ªëi", "Cam", "Xo√†i", "Nho"];\n\nfunction displayFruits() {\n  var list = document.getElementById("fruitList");\n  var html = "";\n  \n  // L·∫∑p qua m·∫£ng\n  for (var i = 0; i < fruits.length; i = i + 1) {\n    html += \'<div class="fruit-item">\';\n    html += (i + 1) + ". " + fruits[i];\n    html += "</div>";\n  }\n  \n  list.innerHTML = html;\n}'
                },
                {
                    title: 'ƒê·ªëi T∆∞·ª£ng',
                    description: 'L∆∞u tr·ªØ d·ªØ li·ªáu li√™n quan c√πng nhau b·∫±ng ƒë·ªëi t∆∞·ª£ng',
                    intro: '<strong>B·∫°n s·∫Ω h·ªçc:</strong> C√°ch s·ª≠ d·ª•ng ƒë·ªëi t∆∞·ª£ng ƒë·ªÉ t·ªï ch·ª©c v√† l∆∞u tr·ªØ th√¥ng tin li√™n quan v·ªõi nhau.',
                    html: '<div id="personCard"></div>\n<button onclick="showPerson()">Hi·ªÉn th·ªã th√¥ng tin</button>',
                    css: '#personCard {\n  margin: 20px 0;\n  padding: 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border-radius: 12px;\n  min-height: 100px;\n}\n\n.info-row {\n  padding: 8px;\n  margin: 5px 0;\n  background: rgba(255,255,255,0.2);\n  border-radius: 6px;\n  font-size: 16px;\n}\n\n.label {\n  font-weight: bold;\n}\n\nbutton {\n  padding: 12px 24px;\n  background: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 16px;\n}',
                    js: '// ƒê·ªëi t∆∞·ª£ng l∆∞u tr·ªØ d·ªØ li·ªáu li√™n quan\nvar person = {\n  name: "Nguy·ªÖn VƒÉn An",\n  age: 28,\n  job: "L·∫≠p tr√¨nh vi√™n Web",\n  city: "H√† N·ªôi",\n  hobby: "Ch·ª•p ·∫£nh"\n};\n\nfunction showPerson() {\n  var card = document.getElementById("personCard");\n  var html = "";\n  \n  html += \'<div class="info-row"><span class="label">T√™n:</span> \' + person.name + "</div>";\n  html += \'<div class="info-row"><span class="label">Tu·ªïi:</span> \' + person.age + "</div>";\n  html += \'<div class="info-row"><span class="label">Ngh·ªÅ:</span> \' + person.job + "</div>";\n  html += \'<div class="info-row"><span class="label">Th√†nh ph·ªë:</span> \' + person.city + "</div>";\n  html += \'<div class="info-row"><span class="label">S·ªü th√≠ch:</span> \' + person.hobby + "</div>";\n  \n  card.innerHTML = html;\n}'
                },
                {
                    title: 'C√¢u L·ªánh ƒêi·ªÅu Ki·ªán',
                    description: 'ƒê∆∞a ra quy·∫øt ƒë·ªãnh trong m√£ v·ªõi if/else',
                    intro: '<strong>B·∫°n s·∫Ω h·ªçc:</strong> C√°ch l√†m cho m√£ c·ªßa b·∫°n ph·∫£n ·ª©ng kh√°c nhau d·ª±a tr√™n ƒëi·ªÅu ki·ªán.',
                    html: '<div class="age-checker">\n  <h3>Ki·ªÉm Tra Tu·ªïi</h3>\n  <input type="number" id="ageInput" placeholder="Nh·∫≠p tu·ªïi c·ªßa b·∫°n">\n  <button onclick="checkAge()">Ki·ªÉm tra</button>\n  <div id="result"></div>\n</div>',
                    css: '.age-checker {\n  padding: 30px;\n  background: #f0f4ff;\n  border-radius: 12px;\n  text-align: center;\n}\n\nh3 {\n  color: #2c3e50;\n  margin-bottom: 20px;\n}\n\ninput {\n  padding: 12px;\n  font-size: 16px;\n  border: 2px solid #3498db;\n  border-radius: 6px;\n  width: 200px;\n  margin-right: 10px;\n}\n\nbutton {\n  padding: 12px 24px;\n  background: #3498db;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 16px;\n}\n\n#result {\n  margin-top: 20px;\n  padding: 15px;\n  border-radius: 8px;\n  font-size: 18px;\n  font-weight: bold;\n}',
                    js: '// C√¢u l·ªánh ƒëi·ªÅu ki·ªán\nfunction checkAge() {\n  var age = document.getElementById("ageInput").value;\n  var result = document.getElementById("result");\n  \n  if (age === "") {\n    result.innerHTML = "Vui l√≤ng nh·∫≠p tu·ªïi c·ªßa b·∫°n!";\n    result.style.background = "#ffe8e6";\n    result.style.color = "#e74c3c";\n  } else if (age < 13) {\n    result.innerHTML = "B·∫°n l√† tr·∫ª em! üë∂";\n    result.style.background = "#fff3e0";\n    result.style.color = "#ff9800";\n  } else if (age < 18) {\n    result.innerHTML = "B·∫°n l√† thi·∫øu ni√™n! üéÆ";\n    result.style.background = "#e3f2fd";\n    result.style.color = "#2196f3";\n  } else if (age < 65) {\n    result.innerHTML = "B·∫°n l√† ng∆∞·ªùi tr∆∞·ªüng th√†nh! üíº";\n    result.style.background = "#e8f5e9";\n    result.style.color = "#4caf50";\n  } else {\n    result.innerHTML = "B·∫°n l√† ng∆∞·ªùi cao tu·ªïi! üåü";\n    result.style.background = "#f3e5f5";\n    result.style.color = "#9c27b0";\n  }\n}'
                },
                {
                    title: 'Thao T√°c Chu·ªói',
                    description: 'L√†m vi·ªác v·ªõi vƒÉn b·∫£n v√† h·ªçc c√°c ph∆∞∆°ng th·ª©c chu·ªói',
                    intro: '<strong>B·∫°n s·∫Ω h·ªçc:</strong> C√°ch thao t√°c vƒÉn b·∫£n b·∫±ng c√°c ph∆∞∆°ng th·ª©c chu·ªói JavaScript.',
                    html: '<div class="string-demo">\n  <h3>Bi·∫øn ƒê·ªïi VƒÉn B·∫£n</h3>\n  <input type="text" id="textInput" placeholder="Nh·∫≠p vƒÉn b·∫£n">\n  <div class="buttons">\n    <button onclick="toUpper()">CH·ªÆ HOA</button>\n    <button onclick="toLower()">ch·ªØ th∆∞·ªùng</button>\n    <button onclick="getLength()">ƒê·∫øm K√Ω T·ª±</button>\n    <button onclick="reverseText()">ƒê·∫£o Ng∆∞·ª£c</button>\n  </div>\n  <div id="output"></div>\n</div>',
                    css: '.string-demo {\n  padding: 25px;\n  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\n  color: white;\n  border-radius: 12px;\n}\n\nh3 {\n  margin-bottom: 15px;\n}\n\ninput {\n  width: 100%;\n  padding: 12px;\n  font-size: 16px;\n  border: none;\n  border-radius: 6px;\n  margin-bottom: 15px;\n}\n\n.buttons {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n  margin-bottom: 15px;\n}\n\nbutton {\n  flex: 1;\n  min-width: 100px;\n  padding: 10px;\n  background: white;\n  color: #f5576c;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-weight: bold;\n}\n\nbutton:hover {\n  transform: scale(1.05);\n}\n\n#output {\n  padding: 15px;\n  background: rgba(255,255,255,0.3);\n  border-radius: 8px;\n  min-height: 50px;\n  font-size: 18px;\n  font-weight: bold;\n}',
                    js: '// Ph∆∞∆°ng th·ª©c chu·ªói\nfunction toUpper() {\n  var text = document.getElementById("textInput").value;\n  document.getElementById("output").innerHTML = text.toUpperCase();\n}\n\nfunction toLower() {\n  var text = document.getElementById("textInput").value;\n  document.getElementById("output").innerHTML = text.toLowerCase();\n}\n\nfunction getLength() {\n  var text = document.getElementById("textInput").value;\n  document.getElementById("output").innerHTML = "ƒê·ªô d√†i: " + text.length + " k√Ω t·ª±";\n}\n\nfunction reverseText() {\n  var text = document.getElementById("textInput").value;\n  var reversed = "";\n  for (var i = text.length - 1; i >= 0; i = i - 1) {\n    reversed = reversed + text[i];\n  }\n  document.getElementById("output").innerHTML = reversed;\n}'
                },
                {
                    title: 'Ph√©p To√°n',
                    description: 'Th·ª±c hi·ªán t√≠nh to√°n v·ªõi JavaScript Math',
                    intro: '<strong>B·∫°n s·∫Ω h·ªçc:</strong> C√°ch s·ª≠ d·ª•ng JavaScript ƒë·ªÉ th·ª±c hi·ªán c√°c ph√©p t√≠nh to√°n h·ªçc.',
                    html: '<div class="calculator">\n  <h3>M√°y T√≠nh ƒê∆°n Gi·∫£n</h3>\n  <input type="number" id="num1" placeholder="S·ªë th·ª© nh·∫•t">\n  <input type="number" id="num2" placeholder="S·ªë th·ª© hai">\n  <div class="calc-buttons">\n    <button onclick="add()">+</button>\n    <button onclick="subtract()">-</button>\n    <button onclick="multiply()">√ó</button>\n    <button onclick="divide()">√∑</button>\n  </div>\n  <div id="calcResult"></div>\n</div>',
                    css: '.calculator {\n  padding: 30px;\n  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);\n  border-radius: 12px;\n  text-align: center;\n}\n\nh3 {\n  color: #fff;\n  margin-bottom: 20px;\n  font-size: 24px;\n}\n\ninput {\n  display: block;\n  width: 100%;\n  padding: 12px;\n  margin: 10px 0;\n  font-size: 18px;\n  border: none;\n  border-radius: 8px;\n  text-align: center;\n}\n\n.calc-buttons {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 10px;\n  margin: 20px 0;\n}\n\nbutton {\n  padding: 20px;\n  font-size: 24px;\n  background: white;\n  color: #fa709a;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: bold;\n}\n\nbutton:hover {\n  transform: scale(1.1);\n}\n\n#calcResult {\n  padding: 20px;\n  background: rgba(255,255,255,0.9);\n  border-radius: 8px;\n  font-size: 28px;\n  font-weight: bold;\n  color: #fa709a;\n  min-height: 50px;\n}',
                    js: '// Ph√©p to√°n\nfunction add() {\n  var n1 = parseFloat(document.getElementById("num1").value);\n  var n2 = parseFloat(document.getElementById("num2").value);\n  document.getElementById("calcResult").innerHTML = n1 + n2;\n}\n\nfunction subtract() {\n  var n1 = parseFloat(document.getElementById("num1").value);\n  var n2 = parseFloat(document.getElementById("num2").value);\n  document.getElementById("calcResult").innerHTML = n1 - n2;\n}\n\nfunction multiply() {\n  var n1 = parseFloat(document.getElementById("num1").value);\n  var n2 = parseFloat(document.getElementById("num2").value);\n  document.getElementById("calcResult").innerHTML = n1 * n2;\n}\n\nfunction divide() {\n  var n1 = parseFloat(document.getElementById("num1").value);\n  var n2 = parseFloat(document.getElementById("num2").value);\n  if (n2 === 0) {\n    document.getElementById("calcResult").innerHTML = "Kh√¥ng th·ªÉ chia cho 0!";\n  } else {\n    document.getElementById("calcResult").innerHTML = n1 / n2;\n  }\n}'
                },
                {
                    title: 'X√°c Th·ª±c Form',
                    description: 'X√°c th·ª±c d·ªØ li·ªáu ng∆∞·ªùi d√πng nh·∫≠p v√†o form',
                    intro: '<strong>B·∫°n s·∫Ω h·ªçc:</strong> C√°ch ki·ªÉm tra xem d·ªØ li·ªáu nh·∫≠p v√†o form c√≥ h·ª£p l·ªá tr∆∞·ªõc khi g·ª≠i.',
                    html: '<div class="form-container">\n  <h3>Form ƒêƒÉng K√Ω</h3>\n  <input type="text" id="username" placeholder="T√™n ng∆∞·ªùi d√πng (t·ªëi thi·ªÉu 4 k√Ω t·ª±)">\n  <input type="email" id="email" placeholder="Email">\n  <input type="password" id="password" placeholder="M·∫≠t kh·∫©u (t·ªëi thi·ªÉu 6 k√Ω t·ª±)">\n  <button onclick="validateForm()">ƒêƒÉng k√Ω</button>\n  <div id="formMessage"></div>\n</div>',
                    css: '.form-container {\n  max-width: 400px;\n  margin: 0 auto;\n  padding: 30px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 12px;\n}\n\nh3 {\n  color: white;\n  margin-bottom: 20px;\n  text-align: center;\n}\n\ninput {\n  display: block;\n  width: 100%;\n  padding: 12px;\n  margin: 10px 0;\n  font-size: 16px;\n  border: 2px solid transparent;\n  border-radius: 8px;\n}\n\ninput:focus {\n  outline: none;\n  border-color: #4CAF50;\n}\n\nbutton {\n  width: 100%;\n  padding: 14px;\n  margin-top: 10px;\n  background: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 18px;\n  cursor: pointer;\n  font-weight: bold;\n}\n\nbutton:hover {\n  background: #45a049;\n}\n\n#formMessage {\n  margin-top: 15px;\n  padding: 12px;\n  border-radius: 8px;\n  font-weight: bold;\n  text-align: center;\n}',
                    js: '// X√°c th·ª±c form\nfunction validateForm() {\n  var username = document.getElementById("username").value;\n  var email = document.getElementById("email").value;\n  var password = document.getElementById("password").value;\n  var message = document.getElementById("formMessage");\n  \n  if (username.length < 4) {\n    message.innerHTML = "‚ùå T√™n ng∆∞·ªùi d√πng ph·∫£i c√≥ √≠t nh·∫•t 4 k√Ω t·ª±";\n    message.style.background = "#ffebee";\n    message.style.color = "#c62828";\n  } else if (email.indexOf("@") === -1) {\n    message.innerHTML = "‚ùå Vui l√≤ng nh·∫≠p email h·ª£p l·ªá";\n    message.style.background = "#ffebee";\n    message.style.color = "#c62828";\n  } else if (password.length < 6) {\n    message.innerHTML = "‚ùå M·∫≠t kh·∫©u ph·∫£i c√≥ √≠t nh·∫•t 6 k√Ω t·ª±";\n    message.style.background = "#ffebee";\n    message.style.color = "#c62828";\n  } else {\n    message.innerHTML = "‚úÖ ƒêƒÉng k√Ω th√†nh c√¥ng! Ch√†o m·ª´ng, " + username + "!";\n    message.style.background = "#e8f5e9";\n    message.style.color = "#2e7d32";\n  }\n}'
                }
            ]
        }
    },
    
    init() {
        this.updateLanguage();
        this.renderLessons();
        this.detectInAppBrowser();
    },
    
    changeLanguage(lang) {
        this.currentLang = lang;
        
        // Update button states
        const buttons = document.querySelectorAll('.lang-btn');
        buttons.forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
        
        this.updateLanguage();
        this.renderLessons();
        if (this.currentLesson !== null) {
            this.loadLesson(this.currentLesson);
        }
    },
    
    updateLanguage() {
        const t = this.translations[this.currentLang];
        
        document.getElementById('mainTitle').textContent = t.mainTitle;
        document.getElementById('subtitle').textContent = t.subtitle;
        document.getElementById('backText').textContent = t.backText;
        document.getElementById('settingsTitle').textContent = t.settingsTitle;
        document.getElementById('languageLabel').textContent = t.languageLabel;
        document.getElementById('themeLabel').textContent = t.themeLabel;
        document.getElementById('closeBtn').textContent = t.closeBtn;
        document.getElementById('runBtn').innerHTML = t.runBtn;
        document.getElementById('resetBtn').innerHTML = t.resetBtn;
        document.getElementById('previewLabel').textContent = t.previewLabel;
        document.getElementById('warningText').textContent = t.warningText;
    },
    
    toggleTheme() {
        this.currentTheme = this.currentTheme === 'light' ? 'dark' : 'light';
        document.body.className = this.currentTheme + '-theme';
        
        const toggle = document.querySelector('.theme-toggle');
        if (this.currentTheme === 'dark') {
            toggle.classList.add('active');
        } else {
            toggle.classList.remove('active');
        }
    },
    
    toggleSettings() {
        const panel = document.getElementById('settingsPanel');
        panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
    },
    
    detectInAppBrowser() {
        const ua = navigator.userAgent || navigator.vendor || window.opera;
        let isInApp = false;
        
        if (ua.indexOf('FBAN') > -1 || ua.indexOf('FBAV') > -1) isInApp = true;
        if (ua.indexOf('Instagram') > -1) isInApp = true;
        if (ua.indexOf('Zalo') > -1) isInApp = true;
        
        if (isInApp) {
            document.getElementById('inAppWarning').classList.remove('hidden');
        }
    },
    
    renderLessons() {
        const lessonList = document.getElementById('lessonList');
        const lessons = this.translations[this.currentLang].lessons;
        const lessonWord = this.currentLang === 'en' ? 'Lesson' : 'B√†i';
        let html = '';
        
        for (let i = 0; i < lessons.length; i++) {
            html += `<li class="lesson-item" onclick="app.showLesson(${i})">
                <div class="lesson-title">${lessonWord} ${i + 1}: ${lessons[i].title}</div>
                <div class="lesson-desc">${lessons[i].description}</div>
            </li>`;
        }
        
        lessonList.innerHTML = html;
    },
    
    showLesson(index) {
        this.currentLesson = index;
        document.getElementById('mainView').classList.add('hidden');
        document.getElementById('lessonView').classList.remove('hidden');
        this.loadLesson(index);
    },
    
    showMainView() {
        this.currentLesson = null;
        document.getElementById('lessonView').classList.add('hidden');
        document.getElementById('mainView').classList.remove('hidden');
    },
    
    loadLesson(index) {
        const lesson = this.translations[this.currentLang].lessons[index];
        const lessonWord = this.currentLang === 'en' ? 'Lesson' : 'B√†i';
        
        document.getElementById('lessonTitle').innerHTML = `${lessonWord} ${index + 1}: ${lesson.title}`;
        document.getElementById('lessonIntro').innerHTML = lesson.intro;
        
        document.getElementById('htmlCode').value = lesson.html;
        document.getElementById('cssCode').value = lesson.css;
        document.getElementById('jsCode').value = lesson.js;
        
        this.originalCode = {
            html: lesson.html,
            css: lesson.css,
            js: lesson.js
        };
        
        this.currentTab = 'html';
        this.switchTab('html');
        
        setTimeout(() => this.runCode(), 100);
    },
    
    switchTab(tab) {
        this.currentTab = tab;
        
        const tabs = ['html', 'css', 'js'];
        tabs.forEach(t => {
            const btn = document.getElementById(t + 'Tab');
            const editor = document.getElementById(t + 'Code');
            
            if (t === tab) {
                btn.classList.add('active');
                editor.classList.remove('hidden');
            } else {
                btn.classList.remove('active');
                editor.classList.add('hidden');
            }
        });
    },
    
    runCode() {
        const html = document.getElementById('htmlCode').value;
        const css = document.getElementById('cssCode').value;
        const js = document.getElementById('jsCode').value;
        
        const preview = document.getElementById('preview');
        
        const output = `<!DOCTYPE html><html><head><style>${css}</style></head><body>${html}<script>${js}<\/script></body></html>`;
        
        preview.srcdoc = output;
    },
    
    resetCode() {
        if (this.currentLesson === null) {
            const noLessonMsg = this.currentLang === 'en' ? 'Please select a lesson first!' : 'Vui l√≤ng ch·ªçn b√†i h·ªçc tr∆∞·ªõc!';
            alert(noLessonMsg);
            return;
        }
        
        // Show custom confirmation modal
        this.showConfirmModal();
    },
    
    showConfirmModal() {
        const modal = document.getElementById('confirmModal');
        const title = document.getElementById('modalTitle');
        const message = document.getElementById('modalMessage');
        
        if (this.currentLang === 'en') {
            title.textContent = 'Confirm Reset';
            message.textContent = 'Reset to original code? All your changes will be lost.';
            document.querySelector('.cancel-btn').textContent = 'Cancel';
            document.querySelector('.confirm-btn').textContent = 'Reset';
        } else {
            title.textContent = 'X√°c nh·∫≠n ƒê·∫∑t l·∫°i';
            message.textContent = 'ƒê·∫∑t l·∫°i v·ªÅ m√£ g·ªëc? T·∫•t c·∫£ thay ƒë·ªïi c·ªßa b·∫°n s·∫Ω b·ªã m·∫•t.';
            document.querySelector('.cancel-btn').textContent = 'H·ªßy';
            document.querySelector('.confirm-btn').textContent = 'ƒê·∫∑t l·∫°i';
        }
        
        modal.classList.add('show');
    },

    hideConfirmModal(confirmed) {
        const modal = document.getElementById('confirmModal');
        modal.classList.remove('show');
        
        if (confirmed) {
            // Reset to original lesson code
            const lesson = this.translations[this.currentLang].lessons[this.currentLesson];
            
            document.getElementById('htmlCode').value = lesson.html;
            document.getElementById('cssCode').value = lesson.css;
            document.getElementById('jsCode').value = lesson.js;
            
            this.originalCode = {
                html: lesson.html,
                css: lesson.css,
                js: lesson.js
            };
            
            this.runCode();
            
            // Visual feedback
            const preview = document.getElementById('preview');
            const originalBorder = preview.parentElement.style.border;
            preview.parentElement.style.border = '3px solid #4CAF50';
            setTimeout(() => {
                preview.parentElement.style.border = originalBorder;
            }, 1000);
        }
    },
};

// Initialize when DOM is ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => app.init());
} else {
    app.init();
}
    </script>
</body>
</html>